(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,71689,e=>{"use strict";e.i(47167);var t=e.i(43476),n=e.i(71645),a=e.i(31178),r=e.i(47414),i=e.i(74008),s=e.i(21476),o=e.i(72846),l=n,m=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,n=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,a=(0,o.isHTMLElement)(e)&&e.offsetHeight||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left,r.bottom=a-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:a,anchorX:r,anchorY:i,root:s,pop:o}){let c=(0,l.useId)(),p=(0,l.useRef)(null),g=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=(0,l.useContext)(m.MotionConfigContext),h=function(...e){return n.useCallback(function(...e){return t=>{let n=!1,a=e.map(e=>{let a=d(e,t);return n||"function"!=typeof a||(n=!0),a});if(n)return()=>{for(let t=0;t<a.length;t++){let n=a[t];"function"==typeof n?n():d(e[t],null)}}}}(...e),e)}(p,e.props?.ref??e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l,right:m,bottom:d}=g.current;if(a||!1===o||!p.current||!e||!t)return;let u="left"===r?`left: ${l}`:`right: ${m}`,h="bottom"===i?`bottom: ${d}`:`top: ${n}`;p.current.dataset.motionPopId=c;let x=document.createElement("style");f&&(x.nonce=f);let b=s??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${h}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[a]),(0,t.jsx)(u,{isPresent:a,childRef:p,sizeRef:g,pop:o,children:!1===o?e:l.cloneElement(e,{ref:h})})}let p=({children:e,initial:a,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:m,mode:d,anchorX:u,anchorY:p,root:f})=>{let h=(0,r.useConstant)(g),x=(0,n.useId)(),b=!0,y=(0,n.useMemo)(()=>(b=!1,{id:x,initial:a,isPresent:i,custom:l,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,o]);return m&&b&&(y={...y}),(0,n.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),n.useEffect(()=>{i||h.size||!o||o()},[i]),e=(0,t.jsx)(c,{pop:"popLayout"===d,isPresent:i,anchorX:u,anchorY:p,root:f,children:e}),(0,t.jsx)(s.PresenceContext.Provider,{value:y,children:e})};function g(){return new Map}var f=e.i(64978);let h=e=>e.key||"";function x(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:s,initial:o=!0,onExitComplete:l,presenceAffectsLayout:m=!0,mode:d="sync",propagate:u=!1,anchorX:c="left",anchorY:g="top",root:b})=>{let[y,w]=(0,f.usePresence)(u),N=(0,n.useMemo)(()=>x(e),[e]),v=u&&!y?[]:N.map(h),C=(0,n.useRef)(!0),k=(0,n.useRef)(N),j=(0,r.useConstant)(()=>new Map),S=(0,n.useRef)(new Set),[F,A]=(0,n.useState)(N),[T,D]=(0,n.useState)(N);(0,i.useIsomorphicLayoutEffect)(()=>{C.current=!1,k.current=N;for(let e=0;e<T.length;e++){let t=h(T[e]);v.includes(t)?(j.delete(t),S.current.delete(t)):!0!==j.get(t)&&j.set(t,!1)}},[T,v.length,v.join("-")]);let P=[];if(N!==F){let e=[...N];for(let t=0;t<T.length;t++){let n=T[t],a=h(n);v.includes(a)||(e.splice(t,0,n),P.push(n))}return"wait"===d&&P.length&&(e=P),D(x(e)),A(N),null}let{forceRender:E}=(0,n.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:T.map(e=>{let n=h(e),a=(!u||!!y)&&(N===T||v.includes(n));return(0,t.jsx)(p,{isPresent:a,initial:(!C.current||!!o)&&void 0,custom:s,presenceAffectsLayout:m,mode:d,root:b,onExitComplete:a?void 0:()=>{if(S.current.has(n)||(S.current.add(n),!j.has(n)))return;j.set(n,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(E?.(),D(k.current),u&&w?.(),l&&l())},anchorX:c,anchorY:g,children:e},n)})})};e.s(["AnimatePresence",()=>b],88653);let y=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>y],71689)},13262,e=>{"use strict";e.s(["POSITION_MEANINGS",0,[{title:"过去 / 根源",subtitle:"Past / Situation",description:"揭示问题的根源与过往影响"},{title:"现在 / 挑战",subtitle:"Present / Challenge",description:"当前面临的状况与考验"},{title:"未来 / 指引",subtitle:"Future / Advice",description:"未来的走向与建议"}]])},68834,79473,e=>{"use strict";var t=e.i(71645);let n=e=>{let t,n=new Set,a=(e,a)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,i={setState:a,getState:r,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(a,r,i);return i},a=e=>{let a=e?n(e):n,r=e=>(function(e,n=e=>e){let a=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>n(e.getState()),[e,n]),t.default.useCallback(()=>n(e.getInitialState()),[e,n]));return t.default.useDebugValue(a),a})(a,e);return Object.assign(r,a),r},r=e=>e?a(e):a;e.s(["create",()=>r],68834);let i=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>i(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}},s=(e,t)=>(n,a,r)=>{let s,o={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=n.getItem(e))?t:null;return r instanceof Promise?r.then(a):a(r)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,m=0,d=new Set,u=new Set,c=o.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)},a,r);let p=()=>{let e=o.partialize({...a()});return c.setItem(o.name,{state:e,version:o.version})},g=r.setState;r.setState=(e,t)=>(g(e,t),p());let f=e((...e)=>(n(...e),p()),a,r);r.getInitialState=()=>f;let h=()=>{var e,t;if(!c)return;let r=++m;l=!1,d.forEach(e=>{var t;return e(null!=(t=a())?t:f)});let g=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=a())?e:f))||void 0;return i(c.getItem.bind(c))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(r!==m)return;let[i,l]=e;if(n(s=o.merge(l,null!=(t=a())?t:f),!0),i)return p()}).then(()=>{r===m&&(null==g||g(s,void 0),s=a(),l=!0,u.forEach(e=>e(s)))}).catch(e=>{r===m&&(null==g||g(void 0,e))})};return r.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||h(),s||f};e.s(["persist",()=>s],79473)},57216,e=>{"use strict";var t=e.i(68834),n=e.i(79473),a=e.i(13262);let r=[{id:0,name:"The Fool",nameCN:"愚者",image:"/tip/tarot/00-TheFool.png",keywords:["新的开始","冒险","纯真","自由"],element:"风",number:0},{id:1,name:"The Magician",nameCN:"魔术师",image:"/tip/tarot/01-TheMagician.png",keywords:["创造力","意志力","显化","能力"],element:"风",number:1},{id:2,name:"The High Priestess",nameCN:"女祭司",image:"/tip/tarot/02-TheHighPriestess.png",keywords:["直觉","神秘","内在智慧","潜意识"],element:"水",number:2},{id:3,name:"The Empress",nameCN:"皇后",image:"/tip/tarot/03-TheEmpress.png",keywords:["丰饶","母性","创造力","自然"],element:"土",number:3},{id:4,name:"The Emperor",nameCN:"皇帝",image:"/tip/tarot/04-TheEmperor.png",keywords:["权威","稳定","结构","控制"],element:"火",number:4},{id:5,name:"The Hierophant",nameCN:"教皇",image:"/tip/tarot/05-TheHierophant.png",keywords:["传统","信仰","教育","指导"],element:"土",number:5},{id:6,name:"The Lovers",nameCN:"恋人",image:"/tip/tarot/06-TheLovers.png",keywords:["爱情","选择","和谐","结合"],element:"风",number:6},{id:7,name:"The Chariot",nameCN:"战车",image:"/tip/tarot/07-TheChariot.png",keywords:["意志力","胜利","决心","控制"],element:"水",number:7},{id:8,name:"Strength",nameCN:"力量",image:"/tip/tarot/08-Strength.png",keywords:["勇气","耐心","内在力量","同情"],element:"火",number:8},{id:9,name:"The Hermit",nameCN:"隐士",image:"/tip/tarot/09-TheHermit.png",keywords:["内省","孤独","指引","智慧"],element:"土",number:9},{id:10,name:"Wheel of Fortune",nameCN:"命运之轮",image:"/tip/tarot/10-WheelOfFortune.png",keywords:["命运","转变","周期","机遇"],element:"火",number:10},{id:11,name:"Justice",nameCN:"正义",image:"/tip/tarot/11-Justice.png",keywords:["公正","真理","因果","平衡"],element:"风",number:11},{id:12,name:"The Hanged Man",nameCN:"倒吊人",image:"/tip/tarot/12-TheHangedMan.png",keywords:["牺牲","等待","新视角","放下"],element:"水",number:12},{id:13,name:"Death",nameCN:"死神",image:"/tip/tarot/13-Death.png",keywords:["结束","转变","重生","释放"],element:"水",number:13},{id:14,name:"Temperance",nameCN:"节制",image:"/tip/tarot/14-Temperance.png",keywords:["平衡","调和","耐心","中庸"],element:"火",number:14},{id:15,name:"The Devil",nameCN:"恶魔",image:"/tip/tarot/15-TheDevil.png",keywords:["束缚","欲望","物质主义","诱惑"],element:"土",number:15},{id:16,name:"The Tower",nameCN:"塔",image:"/tip/tarot/16-TheTower.png",keywords:["突变","觉醒","破坏","启示"],element:"火",number:16},{id:17,name:"The Star",nameCN:"星星",image:"/tip/tarot/17-TheStar.png",keywords:["希望","灵感","宁静","指引"],element:"风",number:17},{id:18,name:"The Moon",nameCN:"月亮",image:"/tip/tarot/18-TheMoon.png",keywords:["幻觉","恐惧","直觉","潜意识"],element:"水",number:18},{id:19,name:"The Sun",nameCN:"太阳",image:"/tip/tarot/19-TheSun.png",keywords:["快乐","成功","活力","真相"],element:"火",number:19},{id:20,name:"Judgement",nameCN:"审判",image:"/tip/tarot/20-Judgement.png",keywords:["重生","觉醒","救赎","召唤"],element:"火",number:20},{id:21,name:"The World",nameCN:"世界",image:"/tip/tarot/21-TheWorld.png",keywords:["完成","成就","圆满","整合"],element:"土",number:21},{id:22,name:"Ace of Wands",nameCN:"权杖首牌",image:"/tip/tarot/Wands01.png",keywords:["灵感","创造","新机会","热情"],element:"火",suit:"权杖",number:1},{id:23,name:"Two of Wands",nameCN:"权杖二",image:"/tip/tarot/Wands02.png",keywords:["计划","决策","探索","未来"],element:"火",suit:"权杖",number:2},{id:24,name:"Three of Wands",nameCN:"权杖三",image:"/tip/tarot/Wands03.png",keywords:["远见","扩展","进展","合作"],element:"火",suit:"权杖",number:3},{id:25,name:"Four of Wands",nameCN:"权杖四",image:"/tip/tarot/Wands04.png",keywords:["庆祝","和谐","稳定","喜悦"],element:"火",suit:"权杖",number:4},{id:26,name:"Five of Wands",nameCN:"权杖五",image:"/tip/tarot/Wands05.png",keywords:["冲突","竞争","挑战","混乱"],element:"火",suit:"权杖",number:5},{id:27,name:"Six of Wands",nameCN:"权杖六",image:"/tip/tarot/Wands06.png",keywords:["胜利","认可","成功","自信"],element:"火",suit:"权杖",number:6},{id:28,name:"Seven of Wands",nameCN:"权杖七",image:"/tip/tarot/Wands07.png",keywords:["防御","坚持","勇气","立场"],element:"火",suit:"权杖",number:7},{id:29,name:"Eight of Wands",nameCN:"权杖八",image:"/tip/tarot/Wands08.png",keywords:["速度","行动","进展","消息"],element:"火",suit:"权杖",number:8},{id:30,name:"Nine of Wands",nameCN:"权杖九",image:"/tip/tarot/Wands09.png",keywords:["韧性","坚持","防备","准备"],element:"火",suit:"权杖",number:9},{id:31,name:"Ten of Wands",nameCN:"权杖十",image:"/tip/tarot/Wands10.png",keywords:["负担","责任","压力","完成"],element:"火",suit:"权杖",number:10},{id:32,name:"Page of Wands",nameCN:"权杖侍从",image:"/tip/tarot/Wands11.png",keywords:["探索","热情","新想法","冒险"],element:"火",suit:"权杖",number:11},{id:33,name:"Knight of Wands",nameCN:"权杖骑士",image:"/tip/tarot/Wands12.png",keywords:["冲动","冒险","热情","行动"],element:"火",suit:"权杖",number:12},{id:34,name:"Queen of Wands",nameCN:"权杖皇后",image:"/tip/tarot/Wands13.png",keywords:["自信","魅力","独立","热情"],element:"火",suit:"权杖",number:13},{id:35,name:"King of Wands",nameCN:"权杖国王",image:"/tip/tarot/Wands14.png",keywords:["领导力","远见","魅力","创业"],element:"火",suit:"权杖",number:14},{id:36,name:"Ace of Cups",nameCN:"圣杯首牌",image:"/tip/tarot/Cups01.png",keywords:["情感","直觉","爱","灵性"],element:"水",suit:"圣杯",number:1},{id:37,name:"Two of Cups",nameCN:"圣杯二",image:"/tip/tarot/Cups02.png",keywords:["结合","合作","和谐","爱情"],element:"水",suit:"圣杯",number:2},{id:38,name:"Three of Cups",nameCN:"圣杯三",image:"/tip/tarot/Cups03.png",keywords:["庆祝","友谊","社交","快乐"],element:"水",suit:"圣杯",number:3},{id:39,name:"Four of Cups",nameCN:"圣杯四",image:"/tip/tarot/Cups04.png",keywords:["不满","冷漠","沉思","错失"],element:"水",suit:"圣杯",number:4},{id:40,name:"Five of Cups",nameCN:"圣杯五",image:"/tip/tarot/Cups05.png",keywords:["失落","悲伤","失望","遗憾"],element:"水",suit:"圣杯",number:5},{id:41,name:"Six of Cups",nameCN:"圣杯六",image:"/tip/tarot/Cups06.png",keywords:["回忆","童年","怀旧","纯真"],element:"水",suit:"圣杯",number:6},{id:42,name:"Seven of Cups",nameCN:"圣杯七",image:"/tip/tarot/Cups07.png",keywords:["幻想","选择","欲望","迷惑"],element:"水",suit:"圣杯",number:7},{id:43,name:"Eight of Cups",nameCN:"圣杯八",image:"/tip/tarot/Cups08.png",keywords:["离开","放弃","追寻","转变"],element:"水",suit:"圣杯",number:8},{id:44,name:"Nine of Cups",nameCN:"圣杯九",image:"/tip/tarot/Cups09.png",keywords:["满足","愿望","幸福","享受"],element:"水",suit:"圣杯",number:9},{id:45,name:"Ten of Cups",nameCN:"圣杯十",image:"/tip/tarot/Cups10.png",keywords:["圆满","家庭","和谐","幸福"],element:"水",suit:"圣杯",number:10},{id:46,name:"Page of Cups",nameCN:"圣杯侍从",image:"/tip/tarot/Cups11.png",keywords:["创意","直觉","敏感","消息"],element:"水",suit:"圣杯",number:11},{id:47,name:"Knight of Cups",nameCN:"圣杯骑士",image:"/tip/tarot/Cups12.png",keywords:["浪漫","追求","理想","魅力"],element:"水",suit:"圣杯",number:12},{id:48,name:"Queen of Cups",nameCN:"圣杯皇后",image:"/tip/tarot/Cups13.png",keywords:["同情","直觉","温柔","情感"],element:"水",suit:"圣杯",number:13},{id:49,name:"King of Cups",nameCN:"圣杯国王",image:"/tip/tarot/Cups14.png",keywords:["情感控制","智慧","慈悲","平衡"],element:"水",suit:"圣杯",number:14},{id:50,name:"Ace of Swords",nameCN:"宝剑首牌",image:"/tip/tarot/Swords01.png",keywords:["清晰","突破","真理","力量"],element:"风",suit:"宝剑",number:1},{id:51,name:"Two of Swords",nameCN:"宝剑二",image:"/tip/tarot/Swords02.png",keywords:["僵局","选择","平衡","犹豫"],element:"风",suit:"宝剑",number:2},{id:52,name:"Three of Swords",nameCN:"宝剑三",image:"/tip/tarot/Swords03.png",keywords:["心痛","悲伤","痛苦","失落"],element:"风",suit:"宝剑",number:3},{id:53,name:"Four of Swords",nameCN:"宝剑四",image:"/tip/tarot/Swords04.png",keywords:["休息","恢复","冥想","平静"],element:"风",suit:"宝剑",number:4},{id:54,name:"Five of Swords",nameCN:"宝剑五",image:"/tip/tarot/Swords05.png",keywords:["冲突","失败","损失","不和"],element:"风",suit:"宝剑",number:5},{id:55,name:"Six of Swords",nameCN:"宝剑六",image:"/tip/tarot/Swords06.png",keywords:["过渡","离开","疗愈","前行"],element:"风",suit:"宝剑",number:6},{id:56,name:"Seven of Swords",nameCN:"宝剑七",image:"/tip/tarot/Swords07.png",keywords:["欺骗","策略","隐秘","逃避"],element:"风",suit:"宝剑",number:7},{id:57,name:"Eight of Swords",nameCN:"宝剑八",image:"/tip/tarot/Swords08.png",keywords:["束缚","限制","无助","困境"],element:"风",suit:"宝剑",number:8},{id:58,name:"Nine of Swords",nameCN:"宝剑九",image:"/tip/tarot/Swords09.png",keywords:["焦虑","恐惧","噩梦","担忧"],element:"风",suit:"宝剑",number:9},{id:59,name:"Ten of Swords",nameCN:"宝剑十",image:"/tip/tarot/Swords10.png",keywords:["结束","痛苦","背叛","低谷"],element:"风",suit:"宝剑",number:10},{id:60,name:"Page of Swords",nameCN:"宝剑侍从",image:"/tip/tarot/Swords11.png",keywords:["好奇","警觉","新想法","沟通"],element:"风",suit:"宝剑",number:11},{id:61,name:"Knight of Swords",nameCN:"宝剑骑士",image:"/tip/tarot/Swords12.png",keywords:["果断","行动","冲动","雄心"],element:"风",suit:"宝剑",number:12},{id:62,name:"Queen of Swords",nameCN:"宝剑皇后",image:"/tip/tarot/Swords13.png",keywords:["独立","清晰","理智","直接"],element:"风",suit:"宝剑",number:13},{id:63,name:"King of Swords",nameCN:"宝剑国王",image:"/tip/tarot/Swords14.png",keywords:["权威","真理","智慧","公正"],element:"风",suit:"宝剑",number:14},{id:64,name:"Ace of Pentacles",nameCN:"星币首牌",image:"/tip/tarot/Pentacles01.png",keywords:["物质","财富","机会","实现"],element:"土",suit:"星币",number:1},{id:65,name:"Two of Pentacles",nameCN:"星币二",image:"/tip/tarot/Pentacles02.png",keywords:["平衡","适应","灵活","多任务"],element:"土",suit:"星币",number:2},{id:66,name:"Three of Pentacles",nameCN:"星币三",image:"/tip/tarot/Pentacles03.png",keywords:["合作","技能","团队","成就"],element:"土",suit:"星币",number:3},{id:67,name:"Four of Pentacles",nameCN:"星币四",image:"/tip/tarot/Pentacles04.png",keywords:["保守","控制","固执","安全"],element:"土",suit:"星币",number:4},{id:68,name:"Five of Pentacles",nameCN:"星币五",image:"/tip/tarot/Pentacles05.png",keywords:["贫困","损失","孤立","困难"],element:"土",suit:"星币",number:5},{id:69,name:"Six of Pentacles",nameCN:"星币六",image:"/tip/tarot/Pentacles06.png",keywords:["慷慨","分享","给予","平衡"],element:"土",suit:"星币",number:6},{id:70,name:"Seven of Pentacles",nameCN:"星币七",image:"/tip/tarot/Pentacles07.png",keywords:["评估","耐心","投资","成长"],element:"土",suit:"星币",number:7},{id:71,name:"Eight of Pentacles",nameCN:"星币八",image:"/tip/tarot/Pentacles08.png",keywords:["努力","专注","技能","精通"],element:"土",suit:"星币",number:8},{id:72,name:"Nine of Pentacles",nameCN:"星币九",image:"/tip/tarot/Pentacles09.png",keywords:["独立","奢华","自给","享受"],element:"土",suit:"星币",number:9},{id:73,name:"Ten of Pentacles",nameCN:"星币十",image:"/tip/tarot/Pentacles10.png",keywords:["遗产","财富","家庭","长久"],element:"土",suit:"星币",number:10},{id:74,name:"Page of Pentacles",nameCN:"星币侍从",image:"/tip/tarot/Pentacles11.png",keywords:["学习","机会","务实","野心"],element:"土",suit:"星币",number:11},{id:75,name:"Knight of Pentacles",nameCN:"星币骑士",image:"/tip/tarot/Pentacles12.png",keywords:["勤奋","可靠","耐心","务实"],element:"土",suit:"星币",number:12},{id:76,name:"Queen of Pentacles",nameCN:"星币皇后",image:"/tip/tarot/Pentacles13.png",keywords:["滋养","务实","富足","关怀"],element:"土",suit:"星币",number:13},{id:77,name:"King of Pentacles",nameCN:"星币国王",image:"/tip/tarot/Pentacles14.png",keywords:["成功","财富","权威","稳定"],element:"土",suit:"星币",number:14}],i=(0,t.create)()((0,n.persist)((e,t)=>({currentQuestion:"",drawnCards:[],interpretation:"",isLoading:!1,readings:[],setQuestion:t=>e({currentQuestion:t}),drawCards:()=>{e({drawnCards:((e=3)=>[...r].sort(()=>Math.random()-.5).slice(0,e))(3).map((e,t)=>({...e,position:t,isReversed:.3>Math.random(),positionMeaning:a.POSITION_MEANINGS[t].title})),interpretation:""})},setInterpretation:t=>e({interpretation:t}),setLoading:t=>e({isLoading:t}),saveReading:()=>{let{currentQuestion:n,drawnCards:a,interpretation:r,readings:i}=t();0===a.length||e({readings:[{id:Math.random().toString(36).substring(2)+Date.now().toString(36),timestamp:Date.now(),question:n||"未记录问题",cards:a,interpretation:r||"暂无解读"},...i].slice(0,50)})},clearCurrentReading:()=>e({currentQuestion:"",drawnCards:[],interpretation:"",isLoading:!1}),deleteReading:n=>{let{readings:a}=t();e({readings:a.filter(e=>e.id!==n)})},getReadingById:e=>t().readings.find(t=>t.id===e)}),{name:"tarot-readings-storage",partialize:e=>({readings:e.readings})}));e.s(["default",0,i],57216)},38054,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(46932),r=e.i(88653),i=e.i(18566),s=e.i(83086),o=e.i(75254);let l=(0,o.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),m=(0,o.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var d=e.i(71689);let u=(0,o.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var c=e.i(67881),p=e.i(47163);function g({className:e,type:n,...a}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,p.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}let f={sm:"w-24",md:"w-32",lg:"w-40"};function h({card:e,isRevealed:n=!1,onClick:r,className:i="",size:s="md",index:o=0}){return e?(0,t.jsxs)(a.motion.div,{className:`relative cursor-pointer ${f[s]} aspect-[300/527] ${i}`,onClick:r,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15*o},whileHover:{scale:1.05,y:-10},children:[!n&&(0,t.jsxs)("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-[#1B1B3A] via-[#2C241B] to-[#1B1B3A] border-2 border-[#D4AF37] overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute inset-2 border border-[#D4AF37]/50 rounded"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"w-1/3 aspect-square relative",children:[(0,t.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-[#D4AF37] -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-[#D4AF37] -translate-x-1/2"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 w-1/3 aspect-square border-2 border-[#D4AF37] rounded-full -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute top-0 left-0 w-1/4 aspect-square border-t-2 border-l-2 border-[#D4AF37]"}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-1/4 aspect-square border-t-2 border-r-2 border-[#D4AF37]"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-1/4 aspect-square border-b-2 border-l-2 border-[#D4AF37]"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-1/4 aspect-square border-b-2 border-r-2 border-[#D4AF37]"})]})})]}),n&&(0,t.jsx)("div",{className:`w-full h-full rounded-lg overflow-hidden border-2 border-[#D4AF37]/50 ${e.isReversed?"rotate-180":""}`,children:(0,t.jsx)("img",{src:e.image,alt:e.nameCN||"Tarot Card",className:"w-full h-full object-contain",onError:t=>{console.error("Failed to load image:",e.image)}})})]}):(0,t.jsx)("div",{className:`${f[s]} aspect-[300/527] ${i} rounded-lg bg-[#2C241B] border-2 border-[#D4AF37]/30`})}var x=e.i(13262);function b({cards:e,revealedCards:n,onCardClick:r}){return e&&0!==e.length?(0,t.jsx)("div",{className:"flex flex-col md:flex-row justify-center items-start gap-6 md:gap-12 py-8",children:e.map((e,i)=>(0,t.jsxs)(a.motion.div,{className:"flex flex-col items-center gap-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2*i,duration:.5},children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[#D4AF37] font-serif text-sm tracking-widest uppercase",children:x.POSITION_MEANINGS[i]?.title}),(0,t.jsx)("div",{className:"text-[#F4E8D0]/60 text-xs mt-1",children:x.POSITION_MEANINGS[i]?.subtitle})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h,{card:e,isRevealed:n[i]||!1,onClick:()=>r(i),size:"lg",index:i}),(0,t.jsx)("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-[#8B2635] border-2 border-[#D4AF37] flex items-center justify-center text-[#F4E8D0] text-xs font-serif",children:i+1})]}),n[i]&&e&&(0,t.jsxs)(a.motion.div,{className:"text-center max-w-[160px]",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[(0,t.jsx)("h3",{className:"text-[#F4E8D0] font-serif text-lg leading-tight",children:e.nameCN}),(0,t.jsx)("p",{className:"text-[#D4AF37]/70 text-xs mt-1",children:e.name}),e.isReversed&&(0,t.jsx)("span",{className:"inline-block mt-2 px-2 py-0.5 bg-[#8B2635]/50 text-[#F4E8D0] text-xs rounded",children:"逆位"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-1 mt-2",children:e.keywords?.slice(0,3).map((e,n)=>(0,t.jsx)("span",{className:"text-[#F4E8D0]/60 text-xs px-1.5 py-0.5 bg-[#2C241B]/50 rounded",children:e},n))})]})]},`card-${i}`))}):(0,t.jsx)("div",{className:"flex justify-center items-center gap-8 py-12",children:[0,1,2].map(e=>(0,t.jsx)(a.motion.div,{className:"w-32 h-52 rounded-lg bg-gradient-to-br from-[#1B1B3A]/50 via-[#2C241B]/50 to-[#1B1B3A]/50 border-2 border-dashed border-[#D4AF37]/30 flex items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:[0,-5,0]},transition:{opacity:{delay:.1*e},y:{repeat:1/0,duration:2,delay:.3*e,ease:"easeInOut"}},children:(0,t.jsx)("span",{className:"text-[#D4AF37]/30 text-2xl font-serif",children:"?"})},e))})}var y=e.i(57216);let w=async(e,t)=>{let n=`你是一位深谙神秘学的塔罗牌大师，拥有中世纪时代的优雅文风。
请基于以下三张牌阵为用户提供解读：

占卜问题："${e||"寻求命运的指引"}"

牌阵：
1. 过去/根源：${t[0]?.nameCN}(${t[0]?.isReversed?"逆位":"正位"}) - 关键词：${t[0]?.keywords?.join("、")}
2. 现在/挑战：${t[1]?.nameCN}(${t[1]?.isReversed?"逆位":"正位"}) - 关键词：${t[1]?.keywords?.join("、")}
3. 未来/指引：${t[2]?.nameCN}(${t[2]?.isReversed?"逆位":"正位"}) - 关键词：${t[2]?.keywords?.join("、")}

要求：
- 使用神秘而优雅的中世纪英语风格（翻译成中文）
- 结合牌面元素、数字学、炼金术象征
- 提供具体建议，避免过于笼统
- 长度控制在 300-400 字
- 以"亲爱的求问者"开头
- 最后一定要根据提问作出总结回答`;try{console.log("Calling AI API...");let e=await fetch("https://api.moonshot.cn/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer sk-TYerLzZHNmmZL7uU3lJnOaGlroO60mvLTN4SyIC10dZWH2wI","Content-Type":"application/json"},body:JSON.stringify({model:"moonshot-v1-8k",messages:[{role:"user",content:n}],temperature:.8,max_tokens:800})});if(!e.ok){let t=await e.text();throw console.error("API error:",e.status,t),Error(`API请求失败: ${e.status}`)}let t=await e.json(),a=t.choices?.[0]?.message?.content;if(a)return console.log("AI response received"),a;throw Error("Empty response from API")}catch(n){return console.error("解读失败，使用备用解读:",n),N(e,t)}},N=(e,t)=>{if(!t||t.length<3)return"牌阵不完整，无法解读。";let n=[`过去之影中，${t[0].nameCN}如幽灵般浮现${t[0].isReversed?"，逆位暗示这段过往尚未完全释放其影响":"，正位昭示着那段时光留下的深刻印记"}。`,`当下迷雾里，${t[1].nameCN}静静伫立${t[1].isReversed?"，逆位揭示了你正在抗拒的某种真相":"，正位指引你正视眼前的挑战"}。`,`未来之门后，${t[2].nameCN}闪烁着微光${t[2].isReversed?"，逆位提醒这条道路需要更多耐心":"，正位预示着即将到来的转机"}。`];return`亲爱的求问者，

${n[0]}${t[0].keywords?.slice(0,2).join("与")}的能量仍在你的血脉中流淌。

${n[1]}${t[1].keywords?.slice(0,2).join("和")}的交织构成了你此刻的试炼。

${n[2]}${t[2].keywords?.slice(0,2).join("、")}的启示将照亮前行的道路。

愿星辰指引你的脚步，在命运的织锦中找到属于自己的图案。

—— 神秘的塔罗守护者`};function v(){let e=(0,i.useRouter)(),[o,p]=(0,n.useState)("input"),[f,h]=(0,n.useState)([!1,!1,!1]),{currentQuestion:x,drawnCards:N,interpretation:v,isLoading:C,setQuestion:k,drawCards:j,setInterpretation:S,setLoading:F,saveReading:A,clearCurrentReading:T}=(0,y.default)(),D=async()=>{F(!0),p("interpret");try{let e=await w(x,N);S(e)}catch(e){console.error("解读失败:",e)}finally{F(!1)}};return(0,t.jsxs)("main",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-[#1B1B3A] via-[#2C241B] to-[#1B1B3A]",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,t.jsxs)(a.motion.button,{onClick:()=>e.push("/"),className:"absolute top-4 left-4 z-50 flex items-center gap-2 text-[#D4AF37]/70 hover:text-[#D4AF37] transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[(0,t.jsx)(d.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-serif text-sm",children:"返回"})]}),(0,t.jsxs)("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[(0,t.jsxs)(a.motion.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,t.jsx)("h1",{className:"font-serif text-3xl md:text-4xl text-[#F4E8D0] mb-2",children:"占卜室"}),(0,t.jsx)("p",{className:"text-[#D4AF37]/60 text-sm",children:"Three-Card Spread · 三张牌阵"})]}),(0,t.jsxs)(r.AnimatePresence,{mode:"wait",children:["input"===o&&(0,t.jsxs)(a.motion.div,{className:"flex-1 flex flex-col items-center justify-center max-w-xl mx-auto",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[(0,t.jsxs)("div",{className:"w-full bg-gradient-to-b from-[#F4E8D0]/10 to-[#F4E8D0]/5 rounded-lg p-8 border border-[#D4AF37]/30 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(s.Sparkles,{className:"w-8 h-8 text-[#D4AF37] mx-auto mb-4"}),(0,t.jsx)("h2",{className:"font-serif text-xl text-[#F4E8D0] mb-2",children:"在心中默念你的问题"}),(0,t.jsx)("p",{className:"text-[#F4E8D0]/60 text-sm",children:"专注于你寻求指引的领域..."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(g,{value:x,onChange:e=>k(e.target.value),placeholder:"例如：我最近的职业发展会如何？",className:"bg-[#2C241B]/50 border-[#D4AF37]/30 text-[#F4E8D0] placeholder:text-[#F4E8D0]/30 font-serif"}),(0,t.jsx)(c.Button,{onClick:()=>{x.trim()&&(p("shuffle"),j())},disabled:!x.trim(),className:"w-full bg-gradient-to-r from-[#8B2635] to-[#A91B0D] hover:from-[#A91B0D] hover:to-[#8B2635] text-[#F4E8D0] font-serif tracking-wider disabled:opacity-50",children:"开始洗牌"})]})]}),(0,t.jsx)("div",{className:"mt-8 grid grid-cols-3 gap-4 text-center",children:[{title:"过去",desc:"Past / Situation"},{title:"现在",desc:"Present / Challenge"},{title:"未来",desc:"Future / Advice"}].map((e,n)=>(0,t.jsxs)("div",{className:"text-[#F4E8D0]/50",children:[(0,t.jsx)("div",{className:"text-sm font-serif text-[#D4AF37]/70",children:e.title}),(0,t.jsx)("div",{className:"text-xs",children:e.desc})]},n))})]},"input"),"shuffle"===o&&(0,t.jsxs)(a.motion.div,{className:"flex-1 flex flex-col items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationComplete:()=>{p("reveal")},children:[(0,t.jsx)(a.motion.div,{className:"relative w-32 h-52",animate:{rotate:[0,10,-10,5,-5,0],x:[0,20,-20,10,-10,0]},transition:{duration:1.5,ease:"easeInOut"},children:[void 0,void 0,void 0,void 0,void 0].map((e,n)=>(0,t.jsx)(a.motion.div,{className:"absolute inset-0 rounded-lg bg-gradient-to-br from-[#1B1B3A] via-[#2C241B] to-[#1B1B3A] border-2 border-[#D4AF37]",style:{transform:`translateY(${-2*n}px) rotate(${2*n}deg)`},animate:{y:[0,-10,0]},transition:{duration:.5,delay:.1*n,repeat:2}},n))}),(0,t.jsx)(a.motion.p,{className:"mt-8 text-[#D4AF37] font-serif text-lg",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"正在洗牌..."})]},"shuffle"),("reveal"===o||"interpret"===o)&&(0,t.jsxs)(a.motion.div,{className:"flex-1 flex flex-col",initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsxs)(a.motion.div,{className:"text-center mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[(0,t.jsx)("p",{className:"text-[#F4E8D0]/60 text-sm",children:"你的问题"}),(0,t.jsxs)("p",{className:"text-[#F4E8D0] font-serif text-lg",children:["“",x,"”"]})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(b,{cards:N,revealedCards:f,onCardClick:e=>{if("reveal"!==o)return;let t=[...f];t[e]=!0,h(t)},isReading:"interpret"===o})}),(0,t.jsxs)(a.motion.div,{className:"flex justify-center gap-4 mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[("reveal"===o||"interpret"===o)&&f.every(Boolean)&&!v&&(0,t.jsxs)(c.Button,{onClick:D,disabled:C,className:"bg-gradient-to-r from-[#D4AF37] to-[#B8960C] hover:from-[#E5C048] hover:to-[#D4AF37] text-[#1B1B3A] font-serif tracking-wider disabled:opacity-50",children:[(0,t.jsx)(s.Sparkles,{className:"w-5 h-5 mr-2"}),C?"解读中...":"请求神谕解读"]}),"interpret"===o&&(0,t.jsxs)(t.Fragment,{children:[!C&&v&&(0,t.jsxs)(c.Button,{onClick:()=>{A(),T(),e.push("/")},className:"bg-gradient-to-r from-[#8B2635] to-[#A91B0D] hover:from-[#A91B0D] hover:to-[#8B2635] text-[#F4E8D0] font-serif tracking-wider",children:[(0,t.jsx)(m,{className:"w-5 h-5 mr-2"}),"保存记录"]}),(0,t.jsxs)(c.Button,{onClick:()=>{T(),h([!1,!1,!1]),p("input")},variant:"outline",className:"border-[#D4AF37]/50 text-[#D4AF37] hover:bg-[#D4AF37]/10 font-serif",children:[(0,t.jsx)(l,{className:"w-5 h-5 mr-2"}),"重新占卜"]})]})]}),"interpret"===o&&(0,t.jsx)(a.motion.div,{className:"mt-8 max-w-2xl mx-auto w-full",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:(0,t.jsxs)("div",{className:"bg-gradient-to-b from-[#F4E8D0]/10 to-[#F4E8D0]/5 rounded-lg p-6 border border-[#D4AF37]/30",children:[(0,t.jsxs)("h3",{className:"text-[#D4AF37] font-serif text-lg mb-4 flex items-center gap-2",children:[(0,t.jsx)(s.Sparkles,{className:"w-5 h-5"}),"神谕解读"]}),C?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(u,{className:"w-8 h-8 text-[#D4AF37] animate-spin"}),(0,t.jsx)("span",{className:"ml-3 text-[#F4E8D0]/70 font-serif",children:"正在解读牌意..."})]}):(0,t.jsx)("div",{className:"text-[#F4E8D0]/90 leading-relaxed whitespace-pre-line font-serif max-h-[60vh] overflow-y-auto pr-2",children:v})]})})]},"reveal")]})]})]})}e.s(["default",()=>v],38054)}]);